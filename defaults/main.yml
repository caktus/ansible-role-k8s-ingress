k8s_kubeconfig: ~/.kube/config

# <aws|gcp|azure|digitalocean>
# k8s_cluster_type: ''

# <name of context from ~/.kube/config>
# k8s_context: ''

# k8s_cluster_name will be used in places like a hostname for Papertrail and
# a display name for NewRelic
k8s_cluster_name: "{{ k8s_context }}"

k8s_install_ingress_controller: yes

# Let's Encrypt will use this to contact you about expiring
# certificates, and issues related to your account.
#k8s_letsencrypt_email: ''

k8s_wait_timeout: 300  # seconds

k8s_echotest_state: present
k8s_echotest_hostname: 'echotest.caktus-built.com'
k8s_echotest_letsencrypt_issuer: 'letsencrypt-staging'

k8s_papertrail_logspout_enabled: "{{ k8s_papertrail_logspout_destination | length > 0 }}"
k8s_papertrail_logspout_destination: ''  # format: syslog+tls://logsN.papertrailapp.com:XXXXX
k8s_papertrail_logspout_syslog_hostname: "{{ k8s_cluster_name }}"
k8s_papertrail_logspout_syslog_tag: '{% raw %}{{ index .Container.Config.Labels "io.kubernetes.pod.namespace" }}[{{ index .Container.Config.Labels "io.kubernetes.pod.name" }}]{% endraw %}'
k8s_papertrail_logspout_namespace: 'default'  # This namespace must exist already.
k8s_papertrail_logspout_memory_request: 50Mi
k8s_papertrail_logspout_memory_limit: 500Mi

k8s_newrelic_enabled: "{{ k8s_newrelic_license_key | string | length > 0 }}"
# Found under "the latest supported version"
# https://docs.newrelic.com/docs/integrations/kubernetes-integration/installation/kubernetes-installation-configuration#install
k8s_newrelic_kube_state_metrics_version: "v1.7.2"
k8s_newrelic_cluster_name: "{{ k8s_cluster_name }}"
k8s_newrelic_license_key: ""

# For AWS, IAM users that should have access to the cluster (i.e., those users
# who should be able to run `aws eks update-kubeconfig`). Users' access *will* be removed
# if a user is removed from the list below and the Ansible playbook is re-run.
# Values should be the IAM usernames (e.g. "johndev") and not anything more complicated.
k8s_iam_users: []

k8s_ci_create_user: "{{ k8s_ci_repository_arn | length > 0 }}"
k8s_ci_aws_profile: default
k8s_ci_username: ci-user
k8s_ci_repository_arn: "" # format: arn:aws:ecr:<REGION>:<ACCOUNT_NUMBER>:repository/<REPO_NAME>
k8s_ci_vault_password_arn: "" # format: arn:aws:secretsmanager:<REGION>:<ACCOUNT_NUMBER:secret:<SECRET_IDENTIFIER>

k8s_nginx_errors_codes: "503" # CSV of error codes to intercept
k8s_nginx_errors_image: "ghcr.io/caktus/custom-error-pages:1.0"
